{"version":3,"sources":["../src/prepack-options.js"],"names":["getRealmOptions","getSerializerOptions","getDebuggerOptions","compatibility","debugNames","lazyObjectsRuntime","errorHandler","mathRandomSeed","omitInvariants","uniqueSuffix","reactEnabled","residual","serialize","strictlyMonotonicDateNow","timeout","maxStackDepth","additionalFunctions","delayInitializations","delayUnsupportedRequires","internalDebug","debugScopes","logStatistics","logModules","profile","inlineExpressions","initializeMoreModules","trace","result","undefined","debugInFilePath","debugOutFilePath","inFilePath","outFilePath"],"mappings":";;;;;QAmDgBA,e,GAAAA,e;QAgCAC,oB,GAAAA,oB;QAiCAC,kB,GAAAA,kB;;AAvGhB;;AACA;;;;;;AAdA;;;;;;;;;AAmDO,SAASF,eAAT,OAc0B;AAAA,gCAb/BG,aAa+B;AAAA,MAb/BA,aAa+B,sCAbf,SAae;AAAA,6BAZ/BC,UAY+B;AAAA,MAZ/BA,UAY+B,mCAZlB,KAYkB;AAAA,MAX/BC,kBAW+B,QAX/BA,kBAW+B;AAAA,MAV/BC,YAU+B,QAV/BA,YAU+B;AAAA,MAT/BC,cAS+B,QAT/BA,cAS+B;AAAA,iCAR/BC,cAQ+B;AAAA,MAR/BA,cAQ+B,uCARd,KAQc;AAAA,MAP/BC,YAO+B,QAP/BA,YAO+B;AAAA,MAN/BC,YAM+B,QAN/BA,YAM+B;AAAA,MAL/BC,QAK+B,QAL/BA,QAK+B;AAAA,4BAJ/BC,SAI+B;AAAA,MAJ/BA,SAI+B,kCAJnB,CAACD,QAIkB;AAAA,MAH/BE,wBAG+B,QAH/BA,wBAG+B;AAAA,MAF/BC,OAE+B,QAF/BA,OAE+B;AAAA,MAD/BC,aAC+B,QAD/BA,aAC+B;;AAC/B,SAAO;AACLZ,gCADK;AAELC,0BAFK;AAGLC,0CAHK;AAILC,8BAJK;AAKLC,kCALK;AAMLC,kCANK;AAOLC,8BAPK;AAQLC,8BARK;AASLC,sBATK;AAULC,wBAVK;AAWLC,sDAXK;AAYLC,oBAZK;AAaLC;AAbK,GAAP;AAeD;;AAEM,SAASd,oBAAT,QAa+B;AAAA,MAZpCe,mBAYoC,SAZpCA,mBAYoC;AAAA,MAXpCX,kBAWoC,SAXpCA,kBAWoC;AAAA,oCAVpCY,oBAUoC;AAAA,MAVpCA,oBAUoC,yCAVb,KAUa;AAAA,oCATpCC,wBASoC;AAAA,MATpCA,wBASoC,yCATT,KASS;AAAA,kCARpCC,aAQoC;AAAA,MARpCA,aAQoC,uCARpB,KAQoB;AAAA,gCAPpCC,WAOoC;AAAA,MAPpCA,WAOoC,qCAPtB,KAOsB;AAAA,kCANpCC,aAMoC;AAAA,MANpCA,aAMoC,uCANpB,KAMoB;AAAA,+BALpCC,UAKoC;AAAA,MALpCA,UAKoC,oCALvB,KAKuB;AAAA,4BAJpCC,OAIoC;AAAA,MAJpCA,OAIoC,iCAJ1B,KAI0B;AAAA,oCAHpCC,iBAGoC;AAAA,MAHpCA,iBAGoC,yCAHhB,KAGgB;AAAA,oCAFpCC,qBAEoC;AAAA,MAFpCA,qBAEoC,yCAFZ,KAEY;AAAA,0BADpCC,KACoC;AAAA,MADpCA,KACoC,+BAD5B,KAC4B;;AACpC,MAAIC,SAA4B;AAC9BV,8CAD8B;AAE9BC,sDAF8B;AAG9BO,gDAH8B;AAI9BN,gCAJ8B;AAK9BC,4BAL8B;AAM9BC,gCAN8B;AAO9BC,0BAP8B;AAQ9BC,oBAR8B;AAS9BC,wCAT8B;AAU9BE;AAV8B,GAAhC;AAYA,MAAIV,mBAAJ,EAAyBW,OAAOX,mBAAP,GAA6BA,mBAA7B;AACzB,MAAIX,uBAAuBuB,SAA3B,EAAsC;AACpCD,WAAOtB,kBAAP,GAA4BA,kBAA5B;AACD;AACD,SAAOsB,MAAP;AACD;;AAEM,SAASzB,kBAAT,QAAoG;AAAA,MAAtE2B,eAAsE,SAAtEA,eAAsE;AAAA,MAArDC,gBAAqD,SAArDA,gBAAqD;;AACzG,2BAAUD,oBAAoBD,SAA9B,EAAyC,0CAAzC;AACA,2BAAUE,qBAAqBF,SAA/B,EAA0C,2CAA1C;AACA,MAAID,SAA0B;AAC5BI,gBAAYF,eADgB;AAE5BG,iBAAaF;AAFe,GAA9B;AAIA,SAAOH,MAAP;AACD","file":"prepack-options.js","sourcesContent":["/**\n * Copyright (c) 2017-present, Facebook, Inc.\n * All rights reserved.\n *\n * This source code is licensed under the BSD-style license found in the\n * LICENSE file in the root directory of this source tree. An additional grant\n * of patent rights can be found in the PATENTS file in the same directory.\n */\n\n/* @flow */\n\nimport type { ErrorHandler } from \"./errors.js\";\nimport type { SerializerOptions, RealmOptions, Compatibility, DebuggerOptions } from \"./options\";\nimport { Realm } from \"./realm.js\";\nimport invariant from \"./invariant.js\";\n\nexport type PrepackOptions = {|\n  additionalGlobals?: Realm => void,\n  additionalFunctions?: Array<string>,\n  lazyObjectsRuntime?: string,\n  compatibility?: Compatibility,\n  debugNames?: boolean,\n  delayInitializations?: boolean,\n  delayUnsupportedRequires?: boolean,\n  inputSourceMapFilename?: string,\n  internalDebug?: boolean,\n  debugScopes?: boolean,\n  logStatistics?: boolean,\n  logModules?: boolean,\n  mathRandomSeed?: string,\n  errorHandler?: ErrorHandler,\n  omitInvariants?: boolean,\n  outputFilename?: string,\n  profile?: boolean,\n  reactEnabled?: boolean,\n  residual?: boolean,\n  serialize?: boolean,\n  inlineExpressions?: boolean,\n  sourceMaps?: boolean,\n  initializeMoreModules?: boolean,\n  statsFile?: string,\n  strictlyMonotonicDateNow?: boolean,\n  timeout?: number,\n  trace?: boolean,\n  uniqueSuffix?: string,\n  maxStackDepth?: number,\n  enableDebugger?: boolean,\n  debugInFilePath?: string,\n  debugOutFilePath?: string,\n|};\n\nexport function getRealmOptions({\n  compatibility = \"browser\",\n  debugNames = false,\n  lazyObjectsRuntime,\n  errorHandler,\n  mathRandomSeed,\n  omitInvariants = false,\n  uniqueSuffix,\n  reactEnabled,\n  residual,\n  serialize = !residual,\n  strictlyMonotonicDateNow,\n  timeout,\n  maxStackDepth,\n}: PrepackOptions): RealmOptions {\n  return {\n    compatibility,\n    debugNames,\n    lazyObjectsRuntime,\n    errorHandler,\n    mathRandomSeed,\n    omitInvariants,\n    uniqueSuffix,\n    reactEnabled,\n    residual,\n    serialize,\n    strictlyMonotonicDateNow,\n    timeout,\n    maxStackDepth,\n  };\n}\n\nexport function getSerializerOptions({\n  additionalFunctions,\n  lazyObjectsRuntime,\n  delayInitializations = false,\n  delayUnsupportedRequires = false,\n  internalDebug = false,\n  debugScopes = false,\n  logStatistics = false,\n  logModules = false,\n  profile = false,\n  inlineExpressions = false,\n  initializeMoreModules = false,\n  trace = false,\n}: PrepackOptions): SerializerOptions {\n  let result: SerializerOptions = {\n    delayInitializations,\n    delayUnsupportedRequires,\n    initializeMoreModules,\n    internalDebug,\n    debugScopes,\n    logStatistics,\n    logModules,\n    profile,\n    inlineExpressions,\n    trace,\n  };\n  if (additionalFunctions) result.additionalFunctions = additionalFunctions;\n  if (lazyObjectsRuntime !== undefined) {\n    result.lazyObjectsRuntime = lazyObjectsRuntime;\n  }\n  return result;\n}\n\nexport function getDebuggerOptions({ debugInFilePath, debugOutFilePath }: PrepackOptions): DebuggerOptions {\n  invariant(debugInFilePath !== undefined, \"Debugger invoked without input file path\");\n  invariant(debugOutFilePath !== undefined, \"Debugger invoked without output file path\");\n  let result: DebuggerOptions = {\n    inFilePath: debugInFilePath,\n    outFilePath: debugOutFilePath,\n  };\n  return result;\n}\n"]}